(this["webpackJsonpincorta-task"]=this["webpackJsonpincorta-task"]||[]).push([[0],{212:function(e,n,t){"use strict";t.r(n);var a=t(3),r=t.n(a),i=t(75),c=t.n(i),s=(t(83),t(4)),o=t(0),u=t(1),l=t(6),d=t(5),h=(t(84),t(85),t(2)),f=function(){return Object(h.jsxs)("header",{className:"header",children:["Plotter",Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{}),Object(h.jsx)("li",{}),Object(h.jsx)("li",{})]})]})},j=function(e){var n={dimension:[],measure:[]};return e.columns.forEach((function(t){n[t.function].push(Object(h.jsx)("div",{onDragStart:function(n){return e.handleDragStart(n,t.name)},draggable:!0,className:"draggable",children:t.name},t.name))})),Object(h.jsxs)("div",{className:"columns",children:[Object(h.jsx)("h3",{children:"Columns"}),Object(h.jsx)("div",{className:"dimension",children:n.dimension}),Object(h.jsx)("div",{className:"measure",children:n.measure})]})},m=function(e){var n={dimension:[],measure:[]};return e.inquiry.forEach((function(e){n[e.function].push(Object(h.jsx)("div",{className:"draggable",children:e.name},e.name))})),Object(h.jsxs)("div",{onDragOver:function(n){return e.handleDragOver(n)},onDrop:function(n){return e.handleDrop(n)},className:"inquiry",children:[Object(h.jsxs)("div",{className:"inquiryDimension",children:[Object(h.jsx)("h3",{children:"Dimension"}),Object(h.jsx)("div",{children:n.dimension}),Object(h.jsx)("button",{onClick:function(){return e.handleClear("dimension")},children:"Clear"})]}),Object(h.jsxs)("div",{className:"inquiryMeasure",children:[Object(h.jsx)("h3",{children:"Measure"}),Object(h.jsx)("div",{children:n.measure}),Object(h.jsx)("button",{onClick:function(){return e.handleClear("measure")},children:"Clear"})]})]})},b=t(78),O=function(e){for(var n=[],t=1;t<e.details.length;t++)n.push({label:e.details[t].name,data:e.details[t].values,labels:e.details[t].values,backgroundColor:["#".concat(Math.floor(16777215*Math.random()).toString(16))],hoverBackgroundColor:["#".concat(Math.floor(16777215*Math.random()).toString(16))],pointRadius:5,pointHitRadius:5,pointHoverRadius:4});var a={labels:e.details[0].values,datasets:n};return Object(h.jsx)("div",{className:"chart",children:Object(h.jsx)(b.a,{data:a,options:{scales:{yAxes:[{ticks:{beginAtZero:!1}}]}}})})},p=t(19),v=t.n(p),g=t(45),x=t(46),D=t.n(x);function y(){return(y=Object(g.a)(v.a.mark((function e(){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("https://plotter-task.herokuapp.com/columns");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(g.a)(v.a.mark((function e(n){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.post("https://plotter-task.herokuapp.com/data",n);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=function(e){Object(l.a)(t,e);var n=Object(d.a)(t);function t(e){var a;return Object(o.a)(this,t),(a=n.call(this,e)).handleDragStart=function(e,n){e.dataTransfer.setData("name",n)},a.handleDragOver=function(e){e.preventDefault()},a.getDetails=function(e){var n=[],t=[];e.filter((function(e){return"measure"===e.function})).map((function(e){return n.push(e.name)})),e.filter((function(e){return"dimension"===e.function})).map((function(e){return t.push(e.name)}));var r={measures:n,dimension:t[0]};n.length>0&&t.length>0&&function(e){return S.apply(this,arguments)}(r).then((function(e){a.setState({details:e.data})})).catch((function(e){console.log(e)}))},a.handleDrop=function(e){var n=a.state,t=n.columns,r=n.inquiry,i=e.dataTransfer.getData("name"),c=t.filter((function(e){return e.name!==i})),o=t.filter((function(e){return e.name===i}));if(a.setState({columns:c}),"dimension"!==o[0].function){var u=[].concat(Object(s.a)(r),[o[0]]);a.getDetails(u),a.setState({inquiry:u})}else{a.setState({columns:[].concat(Object(s.a)(c),Object(s.a)(r.filter((function(e){return"dimension"===e.function}))))});var l=[].concat(Object(s.a)(r.filter((function(e){return"dimension"!==e.function}))),[o[0]]);a.getDetails(l),a.setState({inquiry:l})}},a.handleClear=function(e){var n=a.state,t=n.columns,r=n.inquiry;"dimension"===e?(a.setState({columns:[].concat(Object(s.a)(t),Object(s.a)(r.filter((function(e){return"dimension"===e.function}))))}),a.setState({inquiry:Object(s.a)(r.filter((function(e){return"dimension"!==e.function})))})):(a.setState({columns:[].concat(Object(s.a)(t),Object(s.a)(r.filter((function(e){return"measure"===e.function}))))}),a.setState({inquiry:Object(s.a)(r.filter((function(e){return"measure"!==e.function})))})),a.setState({details:[]})},a.state={columns:[],inquiry:[],details:[]},a}return Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(){return y.apply(this,arguments)})().then((function(n){e.setState({columns:n.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,n=e.columns,t=e.inquiry,a=e.details;return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(f,{}),Object(h.jsx)(j,{columns:n,handleDragStart:this.handleDragStart}),Object(h.jsxs)("div",{className:"rightCol",children:[Object(h.jsx)(m,{inquiry:t,handleDragOver:this.handleDragOver,handleDrop:this.handleDrop,handleClear:this.handleClear}),a.length>0?Object(h.jsx)(O,{details:a}):""]})]})}}]),t}(a.Component),C=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,213)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,i=n.getLCP,c=n.getTTFB;t(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(k,{})}),document.getElementById("root")),C()},83:function(e,n,t){},84:function(e,n,t){}},[[212,1,2]]]);
//# sourceMappingURL=main.64181db7.chunk.js.map